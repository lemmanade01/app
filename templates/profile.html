{% extends 'base.html' %}
{% block title %} {% endblock %}

{% block head %} 
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="/static/js/mood_graph.js"></script>
{% endblock %}

{% block body %}

<div class="profile-container">
  <div class="profile-header">
      <h1 class="profile-header">Hello, {{user.fname.capitalize()}}!</h1>
  </div><br>
  <div class="mood-graph">

{% if journal_count == 1 %}
    <p class="profile-text">You have logged your first entry! Continue your self-reflections to see them broad scope.</p><br>

{% elif journal_count > 1 %}
    <p class="profile-text">You have logged <span id="journal-count">{{ journal_count }}</span> journal entries!</p><br>

{% else %}
    <p class="profile-text" id="no-entries" value="no-entries">Make your first journal entry to see an overview of your reflections.</p><br>

{% endif %}
    <p class="mood-chart-header">Your Mood Chart</p>
    <div class="col-lg-12 mood-chart" id="calendar_basic"></div>
    </div>

    <div class="search-container">
      <h3 class="profile-subheader">Your Past Reflections</h3>
      <div class="journal-search-container">
        <div class="row">
          <div class="col-lg-2"></div>
          <div class="col-lg-4 col-sm-12 reminders-time" id="jrnl-search">
            <div class="jrnl-search">
              Search for Journal Entry by date:
            </div>
            <div>
              <input type="date" id="jrnl-search-by-date" required>
              <button class="journal-search" id="jrnl-search-submit">Submit</button>
            </div>
          </div>

          <div class="col-lg-4 col-sm-12 all-jrnls">
            <div class="jrnl-search">
              View all Journal Entries:
            </div>
            <div id="all-jrnl-search">
              <div><button class="journal-search" id="all-jrnls">View All</button>
              </div>
            </div>
          </div>

          <div class="col-lg-2"></div>
        </div>

        <div id="display-entries-container"></div>
      </div>
      <div class="space2"></div>

{% endblock %}

{% block script %}
<script src="/static/js/journal.js"></script>
<script src="/static/js/journal_search.js"></script>
{% endblock %}